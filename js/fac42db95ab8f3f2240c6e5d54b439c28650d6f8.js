window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;console.log(Array.prototype.slice.call(arguments))}};(function(e){function h(){}for(var g="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),f;f=g.pop();){e[f]=e[f]||h}})(window.console=window.console||{});function filenameToYear(a){year=a.match(/\d{4}/);return year}function filenameToTitle(a){a=a.replace(/(\d{4}|\[|\(|dvd).*/i,"");a=a.replace(/[\.\s]/g,"+");return a}function filenameToUrl(a){var b="http://www.imdbapi.com/?";var c=filenameToYear(a);if(c){b=b+"y="+c+"&"}var d="t="+filenameToTitle(a);b=b+d+"&callback=?";console.log(b);return b}function getMovieInfo(a){$.getJSON(a,function(b){$("#main_table").dataTable().fnAddData(['<a href="http://www.imdb.com/title/'+b.ID+'/">'+b.Title+"</a>",b.Year,b.Genre,b.Director,b.Actors,b.Rating])})}function handleDrop(d){$(d.target).removeClass("dragover");var c=d.dataTransfer.files;console.log(c);timeout=0;for(var b=0,e;e=c[b];b++){var a=filenameToUrl(e.name);getMovieInfo(a)}d.stopPropagation();return false}$(document).ready(function(){$("#main_table").dataTable({bPaginate:false,bLengthChange:false,bProcessing:true})});